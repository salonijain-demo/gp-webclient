<div>
  <!-- <div class="col-lg-12">
    <div class="row">
      <app-base></app-base>
    </div>
  </div> -->
  
      <!-- <div class="col-lg-10"> -->
      <!-- INVENTORY RELATED SETTINGS -->
      <div class="col-xs-12">
        <h3>Inventory Related</h3>

        <div class="form-horizontal general-settings-form">
          <fieldset>
            <div class="form-group row">
              <label class="control-label col-sm-3">Inventory Tracking</label>

              <div class="controls col-sm-1 form-inline">
                
                <div class="row toggle-switch">
                  <span placeholder="onLabel"></span>
                  <label class="switch">
                    <input class="switchon" type="checkbox"
                    name="confirmation_hash.inventory_tracking"
                    [(ngModel)]="confirmation_hash.inventory_tracking"
                    (change)="confirm_and_update('inventory_tracking')">
                    <span class="slider round"></span>
                  </label>
                  <span placeholder="offLabel"></span>
                </div>
                 <!-- (change)="inventory_tracking($event)" -->
                <!-- <div toggle-switch [(ngModel)]="confirmation_hash.inventory_tracking"
                   (click)="confirm_and_update('inventory_tracking')"></div> -->
              </div>
              <div class="info col-sm-1">
                <i mat-raised-button
                matTooltip='If you wish to track inventory you can enable it here. Please be sure to alias duplicate items and create kits beforehand if applicable. Once enabled, inventory will be automatically allocated for open orders. You will then need to set the Quantity On Hand level for each product using the CSV product importer, the recount feature or by manually editing products. The Quantity On Hand count assumes that all items are "on shelf" and included in the count. 
                (ie. Items will be allocated for open orders in the system so please include all items in the count, even if they have been, or will be, picked for open orders in the system.)'
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                  <i class="fa fa-info-circle"></i>                      
                </i>
              </div>
            </div>
            <div *ngIf="general_settings.single.inventory_tracking">
              <div class="form-group row">
                <label class="control-label col-sm-3">Low Inventory Alert Email</label>

                <div class="controls col-sm-1 form-inline">
                  
                  <div class="row toggle-switch">
                    <span placeholder="onLabel"></span>
                    <label class="switch">
                      <input class="switchon" type="checkbox"
                      name="general_settings.single.low_inventory_alert_email"
                      [(ngModel)]="general_settings.single.low_inventory_alert_email"
                      (change)="update_settings()">
                      <span class="slider round"></span>
                    </label>
                    <span placeholder="offLabel"></span>
                  </div>
                  <!-- (change)="low_inventory_alert_email($event)" -->
                  <!-- <div toggle-switch [(ngModel)]="general_settings.single.low_inventory_alert_email"
                      (click)="update_settings()">
                  </div> -->
                </div>
                <div class="info col-sm-1">
                  <i mat-raised-button
                  matTooltip="Low Inventory Alerts limits can be set on the product edit page. If you're not using alerts they can be disabled for all products here. To disable alerts for individual products set their alert level to 0 on their page"
                  matTooltipClass="example-tooltip-red text-secondary"
                  class="example-button">
                    <i class="fa fa-info-circle"></i>
                  </i>
                </div>
              </div>
              <div class="form-group row">
                <div class="controls col-sm-offset-3 col-sm-5"
                    *ngIf="general_settings.single.low_inventory_alert_email== '1'">
                  <input type="text" class="form-control input-style"
                    name="general_settings.single.low_inventory_email_address"
                    [(ngModel)]="general_settings.single.low_inventory_email_address" placeholder="Email address"
                    (blur)="update_settings()">
                </div>
              </div>
              <div class="form-group row" *ngIf="general_settings.single.low_inventory_alert_email== '1'">
                <label class="control-label col-sm-3">Time for sending low inventory email</label>            
                <!-- <timepicker [(ngModel)]="general_settings.single.time_to_send_email" (change)="show_button=true" show-meridian="true" style="display: inline-block;vertical-align: middle;"></timepicker> -->
                <div class="ngx-timepicker-field-example">
                  <ngb-timepicker [(ngModel)]="time" [meridian]="true" (change)="show_button=true"></ngb-timepicker>
                  <span style="display: inline-block;vertical-align: middle;padding-left: 13px;"> Current Time: {{general_settings.single.current_time}}
                    <i class="groove-fa fa fa-clock-o" popover-trigger="mouseenter"></i>
                </span>
                </div>
                </div>
              </div>
              <div class="row" *ngIf="show_button">
                <div class="col-sm-4 col-sm-offset-3">
                  <button class="modal-save-button" ng-click="update_settings()">Update</button>
                </div>
              </div>
              <div class="form-group" *ngIf="general_settings.single.low_inventory_alert_email== '1'">
                <label class="control-label col-sm-3">Send email on</label>

                <div class="controls col-sm-9 form-inline">
                  <label class="checkbox col-sm-2">
                    <input type="checkbox"
                      [(ngModel)]="general_settings.single.send_email_on_mon"
                      name="general_settings.single.send_email_on_mon"  
                      (change)="update_settings()">Mon
                  </label>
                  <label class="checkbox col-sm-2">
                    <input type="checkbox"
                      [(ngModel)]="general_settings.single.send_email_on_tue"
                      name="general_settings.single.send_email_on_tue"  
                      (change)="update_settings()">Tue
                  </label>
                  <label class="checkbox">
                    <input type="checkbox"
                      [(ngModel)]="general_settings.single.send_email_on_wed"
                      name="general_settings.single.send_email_on_wed"
                      (change)="update_settings()">Wed
                  </label>
              </div>
              <div class="controls col-sm-9 col-sm-offset-3 form-inline">
                <label class="checkbox col-sm-2">
                  <input type="checkbox"
                    [(ngModel)]="general_settings.single.send_email_on_thurs"
                    name="general_settings.single.send_email_on_thurs"
                    (change)="update_settings()">Thu
                </label>
                <label class="checkbox col-sm-2">
                  <input type="checkbox"
                    [(ngModel)]="general_settings.single.send_email_on_fri"
                      name="general_settings.single.send_email_on_fri"
                      (change)="update_settings()">Fri
                </label>
                <label class="checkbox col-sm-2">
                  <input type="checkbox"
                    [(ngModel)]="general_settings.single.send_email_on_sat"
                    name="general_settings.single.send_email_on_sat"     
                    (change)="update_settings()">Sat
                </label>
                <label class="checkbox">
                  <input type="checkbox"
                    [(ngModel)]="general_settings.single.send_email_on_sun"
                    name="general_settings.single.send_email_on_sun"
                    (change)="update_settings()">Sun
                </label>
              </div>
            </div>
            <div class="form-group row" *ngIf="general_settings.single.low_inventory_alert_email== '1'">
              <label class="control-label col-sm-3">Set Default low Inventory alert limit</label>

              <div class="controls col-sm-1">
                <input class="form-control input-style" type="number" min="1"
                  [(ngModel)]="general_settings.single.default_low_inventory_alert_limit"
                    placeholder="Default low inventory alert limit"
                    name="general_settings.single.default_low_inventory_alert_limit"
                    (blur)="update_settings()">
              </div>
              <div class="info col-sm-1">
                <i mat-raised-button
                matTooltip="The Alert level set here will be assigned to all products that do not have a value set."
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                <i class="fa fa-info-circle"></i>                  
              </i>
              </div>
            </div>
        </fieldset>
      </div>
    </div>

  <!-- Confirmation and Notifications -->
  <div class="row">
    <div class="col-xs-12">
      <h3>Confirmations & Notifications</h3>

      <div class="form-horizontal general-settings-form">
        <fieldset>
          <div class="form-group row">
            <label class="control-label col-sm-3">Strict Confirmation Codes?</label>

            <div class="controls col-sm-1 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.strict_cc"
                  [(ngModel)]="general_settings.single.strict_cc"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.strict_cc" (click)="update_settings()"></div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="When Strict Confirmation Codes are disabled a user can just use the enter key to acknowledge that they've seen a packing or order notification. When enabled a user must scan or enter their own confirmation code to proceed. About Packing notifications: There are two types of packing notifications. The first, Notes to Packer may be added to an order. It will appear when the order is packed. The second, Special Instructions to Packer can be added to a product. This notification will appear each time that product is packed. The user's Confirmation Code can be requested for either of these notifications. The strict confirmation code setting controls how the user is required to confirm."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <!-- <div class="form-group">
            <label class="control-label col-sm-3">{{translations.labels.hex_barcode}}</label>

            <div class="controls col-sm-1 form-inline">
              <div toggle-switch [(ngModel)]="general_settings.single.hex_barcode" (click)="update_settings()"></div>
            </div>
            <div class="info col-sm-1">
              <i class="icon-large glyphicon glyphicon-info-sign" popover-trigger="mouseenter"
                groov-popover="{{translations.tooltips.hex_barcode}}"></i>
            </div>
          </div> -->
          <div class="form-group row">
            <label class="control-label col-sm-3">Should confirmation be required when order notes are shown to the packer?</label>
            <div class="controls col-sm-2 well-main " ngbDropdown>
              <button ngbDropdownToggle id="order_notes_menu" class="groove-button label label-default" ng-class="{'label-success':general_settings.single.conf_req_on_notes_to_packer=='always',
                'label-warning':general_settings.single.conf_req_on_notes_to_packer=='optional'}">
                {{general_settings.single.conf_req_on_notes_to_packer}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="order_notes_menu" role="menu">
                <ul class="list-unstyled components">
                  <li><a class="dropdown-item" (click)="change_opt('conf_req_on_notes_to_packer','Always')"
                    translate>Always</a>
                  </li>
                  <li><a class="dropdown-item" (click)="change_opt('conf_req_on_notes_to_packer','Make it optional')"
                    translate>Make it optional</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('conf_req_on_notes_to_packer','Never')" 
                    translate>Never</a>
                  </li>
                </ul>
              </div>
            </div>


            <div class="info well-main col-sm-1">
              <i mat-raised-button
              matTooltip="Notes to Packer can be added for any order from the notes tab of the Order detail window. If a confirmation is required the Packer will be prompted to scan their unique confirmation code to proceed when the note is shown. If you want to ensure that confirmations are always required or never required for this type of notification you can do that here. Leaving it optional allows the user creating the Note to choose if confirmation is required."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Should confirmation be required on "Special Instructions to Packer"?</label>

            <div ngbDropdown>
              <button class="groove-button" id="special_instruction_menu" ngbDropdownToggle>
                {{general_settings.single.conf_code_product_instruction}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="special_instruction_menu" role="menu">
                <ul class="list-unstyled components">
                  <li><a class="dropdown-item" (click)="change_opt('conf_code_product_instruction','Always')"
                      translate>Always</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('conf_code_product_instruction','Make it optional')"
                      translate>Make it optional</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('conf_code_product_instruction','Never')"
                      translate>Never</a>
                  </li>
                </ul>
              </div>
            </div>

            <div class="info well-main col-sm-1">
              <i mat-raised-button
              matTooltip="Special instructions to Packer can be added for any product from the product detail window. If a confirmation is required the Packer will be prompted to scan their unique confirmation code to proceed when the instructions are shown. If you want to ensure that confirmations are always required or never required for this type of notification you can do that here. Leaving it optional allows this setting to be controlled on a per product basis."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Should an email be sent when "Notes from Packer" are added?</label>

            <div class="controls col-sm-2 well-main " ngbDropdown>
              <button ngbDropdownToggle id="notes_packer_menu" class="groove-button label label-default"
                      ng-class="{'label-success':general_settings.single.send_email_for_packer_notes=='always','label-warning':general_settings.single.send_email_for_packer_notes=='optional'}">
                      {{general_settings.single.send_email_for_packer_notes}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="notes_packer_menu" role="menu">
                <ul class="list-unstyled components">
                  <li><a class="dropdown-item" (click)="change_opt('send_email_for_packer_notes','Always')" 
                        translate>Always</a>
                  </li>
                  <li><a class="dropdown-item" (click)="change_opt('send_email_for_packer_notes','Make it optional')"
                        translate>Make it optional</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('send_email_for_packer_notes','Never')"
                        translate>Never</a>
                  </li>
                </ul>
              </div>
            </div>

            <div class="info well-main col-sm-1">
              <i mat-raised-button
              matTooltip="Notes from Packer can be added by a packer during the scanning of an order. They are often used to make a supervisor aware of a stock situation or exception but the feature can be used in any way that fits your workflow. If you want to ensure that these notes are always emailed to a supervisor you can do that with this setting."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">System Notifications</label>
            <div class="controls col-sm-7">
              <input type="text" class="form-control input-style"
                [(ngModel)]="general_settings.single.email_address_for_packer_notes"
                name="general_settings.single.email_address_for_packer_notes"
                placeholder="Email Address"
                (blur)="update_settings()">
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Billing Notifications</label>

            <div class="controls col-sm-7">
              <input type="text" class="form-control input-style"
                [(ngModel)]="general_settings.single.email_address_for_billing_notification"
                placeholder="Email Address"
                name="general_settings.single.email_address_for_billing_notification"
                (blur)="update_settings()">
            </div>
          </div>

        </fieldset>
      </div>
    </div>
  </div>

  <!-- Printing Options -->
  <div class="row">
    <div class="col-xs-12">
      <h3>Printing Options</h3>

      <div class="form-horizontal general-settings-form">
        <fieldset>
          <div class="form-group row">
            <label class="control-label col-sm-3">Packing Slip Size</label>

            <div class="controls col-sm-1" ngbDropdown>
              <button class="groove-button" id="packing_slip_size_menu" ngbDropdownToggle>
                {{general_settings.single.packing_slip_size}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="packing_slip_size_menu" role="menu">
                <ul class="list-unstyled components">
                  <li><a class="dropdown-item" (click)="change_opt('packing_slip_size','4 x 6')">4" x 6"</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('packing_slip_size','8.5 x 11')">8.5" x 11"</a></li>
                </ul>
              </div>
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="Choose the paper size you use for printing packing slips 4x6 is usually used for thermal printers. Standard 8.5x11 will print two packing slips per page."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>
          <div class="form-group row" *ngIf="general_settings.single.packing_slip_size=='8.5 x 11'">
            <label class="control-label col-sm-3">Packing Slip Orientation </label>

            <div class="controls col-sm-3" ngbDropdown>
              <button class="groove-button" id="packing_slip_orientation_menu" ngbDropdownToggle>
                {{general_settings.single.packing_slip_orientation}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="packing_slip_orientation_menu" role="menu">
                <ul class="list-unstyled components">
                <li><a class="dropdown-item" (click)="change_opt('packing_slip_orientation','Portrait')">Portrait</a>
                  </li>
                  <li><a class="dropdown-item" (click)="change_opt('packing_slip_orientation','Landscape')">Landscape</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Custom Packing Slip Message-All Stores</label>
            <div class="controls col-sm-7">
              <ckeditor 
                [(ngModel)]="general_settings.single.packing_slip_message_to_customer"
                (blur)="update_settings()">
              </ckeditor>
              <!-- <div ng-controller="generalSettingsCtrl">
                <div text-angular
                  [(ngModel)]="general_settings.single.packing_slip_message_to_customer"
                  (blur)="update_settings()"></div>
              </div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="This is usually used for a thank you message and possibly instructions for receiving support. A store specific message can be set on the store setup page which will override this general message. Leave Blank to disable this general packing slip message"
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Show Primary Bin Location on Product Barcode Label</label>

            <div class="controls col-sm-2 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.show_primary_bin_loc_in_barcodeslip"
                  [(ngModel)]="general_settings.single.show_primary_bin_loc_in_barcodeslip"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.show_primary_bin_loc_in_barcodeslip"
                   (click)="update_settings()"></div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="Enabling this switch will add the primary bin location to the product barcode label."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">HTML Packing Slips</label>

            <div class="controls col-sm-2 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.html_print"
                  [(ngModel)]="general_settings.single.html_print"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.html_print"
                   (click)="update_settings()"></div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="Packing slips can be printed as PDFs or using HTML for the layout. PDF works well for smaller volume but if you find that generating the PDFs takes time you can enable the HTML Packing slips to generate them in HTML. They should look the same when printed but if you save and archive them you may find the PDF format easier to work with."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Display Kit Parts on Packing Slips</label>

            <div class="controls col-sm-2 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.display_kit_parts"
                  [(ngModel)]="general_settings.single.display_kit_parts"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.display_kit_parts"
                   (click)="update_settings()"></div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="When enabled the part skus in a kit will be shown on the packing slip. If disabled only the kit sku will be displayed."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Create Barcode at Import</label>

            <div class="controls col-sm-2 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.create_barcode_at_import"
                  [(ngModel)]="general_settings.single.create_barcode_at_import"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.create_barcode_at_import"
                   (click)="update_settings()"></div> -->
            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>


  <!-- Multi-Box settings -->
    <div class="row" *ngIf="general_settings.single.is_multi_box">
    <div class="col-xs-12">
      <h3>Multi-box Options</h3>

      <div class="form-horizontal general-settings-form">
        <fieldset>
          <div class="form-group row">
            <label class="control-label col-sm-3">Multi-box Shipments</label>

            <div class="controls col-sm-2 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.multi_box_shipments"
                  [(ngModel)]="general_settings.single.multi_box_shipments"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.multi_box_shipments"
                   (click)="update_settings()"></div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="Multi-box Shipments"
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Per-box Packing Slips</label>

            <div class="controls col-sm-3" ngbDropdown>
              <button class="groove-button" id="per_box_packing_slip_menu" ngbDropdownToggle>
                {{perBoxPackingSlips}}
                <!-- <span *ngIf="general_settings.single.per_box_packing_slips =='when_order_is_complete'">Print when the order is complete</span> -->
                <!-- <span *ngIf="general_settings.single.per_box_packing_slips =='when_new_boxes_are_started'">Print when new boxes are started</span>
                <span *ngIf="general_settings.single.per_box_packing_slips =='manually'">Are printed manually</span> -->
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="per_box_packing_slip_menu" role="menu">
                <ul>
                  <li><a class="dropdown-item" (click)="change_opt('per_box_packing_slips','Print when the order is complete')">Print when the order is complete</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('per_box_packing_slips','Print when new boxes are started')">Print when new boxes are started</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('per_box_packing_slips','Are printed manually')">Are printed manually</a></li>
                </ul>
              </div>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>


  <!-- Miscellaneous Settings -->
  <div class="row">
    <div class="col-xs-12">
      <h3>Miscellaneous Settings</h3>

      <div class="form-horizontal general-settings-form">
        <fieldset>
          <div class="form-group row">
            <label class="control-label col-sm-3">Flash Setting</label>
            <div class="controls col-sm-8" style="top: 7px;">
              <div id="flash">Currently Flash toggle is <b>{{general_settings.single.flash}}</b> in your browsers content setting
                <i mat-raised-button
                matTooltip="This site uses flash to enable copying and pasting to the clipboard, To use this you need to go to browser's content setting and allow flash"
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                  <i class="fa fa-info-circle"></i>
                </i>
              </div>
            </div>
          </div> 
          <div class="form-group row">
            <label class="control-label col-sm-3">Preferred time zone</label>
             <div class="controls col-sm-8 row" dropdown>
              <select class="dropdown-toggle groove-button controls col-sm-8"
                (blur)="fetch_time_zone()"
                [(ngModel)]="general_settings.single.time_zone"
                name="general_settings.single.time_zone"
                class="dropdown-toggle groove-button">
                <option class="dropdown-toggle" ng-selected="general_settings.single.auto_detect == true" value="true">AUTO DETECT</option>
                <option class="dropdown-toggle" ng-repeat="(value, key) in general_settings.single.time_zones['time_zones']" value="{{key}}" ng-selected="key == general_settings.single.time_zone">{{value}}</option>
              </select> 
              <div class="controls col-sm-4" style="padding-top: 4px; font-weight: 600;">
                Current Time: {{general_settings.single.current_time}}
              </div>
            </div>
          </div> 
          <div class="form-group row">
            <label class="control-label col-sm-3">Adjust for Daylight Savings Time</label>
            <div class="controls col-sm-3" (change)="fetch_time_zone()">
              <input type="radio" name="general_settings.single.dst"
                [(ngModel)]="general_settings.single.dst"
                name="general_settings.single.dst"
                value="false"
                [checked]="general_settings.single.dst == false"> on
              <input type="radio"
                name="general_settings.single.dst"
                [(ngModel)]="general_settings.single.dst"
                name="general_settings.single.dst"
                value="true"
                [checked]="general_settings.single.dst == true"> off
              {{general_settings.single.dst}}
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Order Item Export</label>

            <div class="controls col-sm-3" ngbDropdown>
              <button class="groove-button" id="export_items_menu" ngbDropdownToggle>
                {{general_settings.single.export_items}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="export_items_menu" role="menu">
                <ul class="list-unstyled components">
                  <li><a class="dropdown-item" (click)="change_opt('export_items','Disabled')">Disabled</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('export_items','Display sku total order by order')">Display sku total order by order</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('export_items','Display one total for each sku')">Display one total for each sku</a></li>
                </ul>
              </div>
            </div>

            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="The Order Item Export allows you to select orders from the orders list and export them to a CSV file. When this option is enabled, you'll find the export option in the Orders list Edit drop down. Depending on the option selected here the order items will either be grouped together by item (like a pick list) or the items required for each order will be grouped together by order, as they are on a packing slip."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>

          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Order Tracking Web Page Response: No Order Found</label>

            <div class="controls col-lg-7 col-sm-7">
              <textarea class="form-control input-style"
                [(ngModel)]="general_settings.single.tracking_error_order_not_found"
                name="general_settings.single.tracking_error_order_not_found"
                (blur)="update_settings()"
                class="span8" rows="4"></textarea>
            </div>
          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Order Tracking Web Page Response: No Tracking Info</label>

            <div class="controls col-lg-7 col-sm-7">
              <textarea class="form-control input-style"
                [(ngModel)]="general_settings.single.tracking_error_info_not_found"
                name="general_settings.single.tracking_error_info_not_found"
                (blur)="update_settings()"
                class="span8" rows="4"></textarea>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Remove order items with quantity of 0</label>

            <div class="controls col-sm-2 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.remove_order_items"
                  [(ngModel)]="general_settings.single.remove_order_items"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.remove_order_items"></div> -->
            </div>
            <div class="info col-sm-1">
              <i mat-raised-button
              matTooltip="In some cases line items in an order will be imported with a quantity of 0 from the shopping system. Since a 0 qty can not be scanned this is normally seen as an error and the order is flagged 'Action Required' so it can be reviewed. If you are aware that this occurs in your system and you would prefer that GroovePacker automatically remove the 0 qty line items please enable this option."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div><br/>

          <h3>Custom Fields</h3><br>


          <div class="form-group row">
            <label class="control-label col-sm-3">Custom Field One</label>

            <div class="controls col-sm-7">
              <input type="text" class="form-control input-style"
                [(ngModel)]="general_settings.single.custom_field_one"
                name="general_settings.single.custom_field_one"
                placeholder="Custom Field One" (blur)="update_settings()">
            </div>
            <div class="info col-sm-1" style="margin-top: -30px">
              <i mat-raised-button
              matTooltip="These fields allow you to rename the custom order and user fields to anything you like. The custom order fields are found on the Information tab of the order detail page and can be displayed in the order list as one of the visible columns. The custom user fields are found in the user detail window and are displayed on the user stats email report."
              matTooltipClass="example-tooltip-red text-secondary"
              class="example-button">
                <i class="fa fa-info-circle"></i>                      
              </i>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Custom Field Two</label>

            <div class="controls col-sm-7">
              <input type="text" class="form-control input-style"
                [(ngModel)]="general_settings.single.custom_field_two"
                name="general_settings.single.custom_field_two"
                placeholder="Custom Field Two" (blur)="update_settings()"/>
            </div>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Custom User Field One</label>

            <div class="controls col-sm-7">
              <input type="text" class="form-control input-style"
                [(ngModel)]="general_settings.single.custom_user_field_one"
                name="general_settings.single.custom_user_field_one"
                placeholder="Custom User Field One"
                (blur)="update_settings();"
                ng-keyup="auto_complete($event,'custom_user_field_one')"/>
            </div>
          </div>

          <div class="form-group row" *ngIf="ready_for_auto_complete && custom_user_field_one_auto_complete_data" style="margin-bottom: 0px">
            <ul class="col-sm-offset-3 col-sm-7 auto_complete_menu">
              <li ng-repeat="item in custom_user_field_one_auto_complete_data" ng-click="general_settings.single.custom_user_field_one = item; clear_auto_complete('custom_user_field_one')">{{item}}</li>
            </ul>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Custom User Field Two</label>

            <div class="controls col-sm-7">
              <input type="text" class="form-control input-style"
                [(ngModel)]="general_settings.single.custom_user_field_two"
                name="general_settings.single.custom_user_field_two"
                placeholder="Custom User Field Two"
                (blur)="update_settings()"
                ng-keyup="auto_complete($event, 'custom_user_field_two')"/>
            </div>
          </div>

          <div class="form-group row" *ngIf="ready_for_auto_complete && custom_user_field_two_auto_complete_data" style="margin-bottom: 0px">
            <ul class="col-sm-offset-3 col-sm-7 auto_complete_menu">
              <li ng-repeat="item in custom_user_field_two_auto_complete_data" ng-click="general_settings.single.custom_user_field_two = item; clear_auto_complete('custom_user_field_two')">{{item}}</li>
            </ul>
          </div>

          <div class="form-group row">
            <label class="control-label col-sm-3">Product Weight Units</label>

            <div class="controls col-sm-9" ngbDropdown>
              <button class="groove-button" id="product_weight_menu" ngbDropdownToggle>
                {{general_settings.single.product_weight_format}}
                <span class="caret"></span>
              </button>
              <div ngbDropdownMenu aria-labelledby="product_weight_menu" role="menu">
                <ul>
                  <li><a class="dropdown-item" (click)="change_opt('product_weight_format','lb')">lb</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('product_weight_format','oz')">oz</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('product_weight_format','kg')">kg</a></li>
                  <li><a class="dropdown-item" (click)="change_opt('product_weight_format','g')">g</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Simple Product Scanning</label>
            <div class="controls col-sm-9 form-inline">
              <div toggle-switch
                [(ngModel)]="general_settings.single.master_switch"
                (click)="update_settings()"
                class="pull-left"></div>
              <div class="info col-sm-2">
                <i mat-raised-button
                matTooltip=""
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                  <i class="fa fa-info-circle"></i>                      
                </i>
            </div>
            </div>
          </div>
          <div class="form-group row">
            <label class="control-label col-sm-3">Pre-day Order Import Schedule</label>

            <div class="controls col-sm-9 form-inline">
              <div class="row toggle-switch">
                <span placeholder="onLabel"></span>
                <label class="switch">
                  <input class="switchon" type="checkbox"
                  name="general_settings.single.scheduled_order_import"
                  [(ngModel)]="general_settings.single.scheduled_order_import"
                  (change)="update_settings()">
                  <span class="slider round"></span>
                </label>
                <span placeholder="offLabel"></span>
              </div>
              <!-- <div toggle-switch [(ngModel)]="general_settings.single.scheduled_order_import"
                   (click)="update_settings()" class="pull-left"></div> -->
              <div *ngIf="general_settings.single.scheduled_order_import==true && general_settings.single.scheduled_import_toggle==true" class="controls col-sm-2" ngbDropdown>
                <button class="groove-button" id="schedule_import_mode_menu" ngbDropdownToggle>
                  {{scheduleImportMode}}
                  <span class="caret"></span>
                </button>
                <div ngbDropdownMenu aria-labelledby="schedule_import_mode_menu" role="menu">
                  <ul>
                    <li><a class="dropdown-item" (click)="change_opt('schedule_import_mode','Daily')">Daily</a></li>
                    <li><a class="dropdown-item" (click)="change_opt('schedule_import_mode','Hourly')">Hourly</a></li>
                  </ul>
                </div>
              </div>
              <div class="info col-sm-2">
                <i mat-raised-button
                matTooltip="In most cases you'll want to check orders before importing into GroovePacker so orders can be modified prior to importing and so only orders that will actually be shipping on the current day can be imported. If this is not the case and you have a large number of orders to import you may want to begin the import before workers arrive for the day to give the orders time to import. This scheduler can be used to run an import before the day begins so orders will be imported and ready."
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                  <i class="fa fa-info-circle"></i>                      
                </i>
            </div>
            </div>
          </div>

          <div ng-show="general_settings.single.schedule_import_mode != 'Hourly'" class="form-group row" *ngIf="general_settings.single.scheduled_order_import== '1'">
            <label class="control-label col-sm-3">Pre-day Import Time</label>

            <div class="controls col-sm-9">

              <ngb-timepicker [(ngModel)]="time" [meridian]="true" (change)="show_button=true"></ngb-timepicker>
              <pre>Selected time: {{time | json}}</pre>
              actual time{{general_settings.single.time_to_import_orders}}
              <!-- <timepicker [(ngModel)]="general_settings.single.time_to_import_orders" (change)="show_button=true" show-meridian="true" style="display: inline-block;vertical-align: middle;"></timepicker> -->
              <span style="display: inline-block;vertical-align: middle;padding-left: 13px;"> Current Time: {{general_settings.single.current_time}}
                  <i class="groove-fa fa fa-clock-o" popover-trigger="mouseenter"></i>
              </span>
              <div class="row" *ngIf="show_button">
                <div class="col-sm-4 col-sm-offset-3">
                  <button class="modal-save-button" ng-click="update_settings()">Update</button>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group row" *ngIf="general_settings.single.scheduled_order_import== '1'">
            <label class="control-label col-sm-3">Import Orders on</label>

            <div class="controls col-sm-9 form-inline">
              <label class="checkbox col-sm-2">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_mon"
                  [(ngModel)]="general_settings.single.import_orders_on_mon"
                  name="general_settings.single.import_orders_on_mon"
                  (change)="update_settings()">Mon
              </label>
              <label class="checkbox col-sm-2">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_tue"
                  [(ngModel)]="general_settings.single.import_orders_on_tue"
                  name="general_settings.single.import_orders_on_tue"
                  (change)="update_settings()">Tue
              </label>
              <label class="checkbox">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_wed"
                  [(ngModel)]="general_settings.single.import_orders_on_wed"
                  name="general_settings.single.import_orders_on_wed"
                  (change)="update_settings()">Wed
              </label>
            </div>
            <div class="controls col-sm-offset-3 col-sm-9 form-inline">
              <label class="checkbox col-sm-2">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_thurs"
                  [(ngModel)]="general_settings.single.import_orders_on_thurs"
                  name="general_settings.single.import_orders_on_thurs"
                  (change)="update_settings()">Thu
              </label>
              <label class="checkbox col-sm-2">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_fri"
                  [(ngModel)]="general_settings.single.import_orders_on_fri"
                  name="general_settings.single.import_orders_on_fri"
                  (change)="update_settings()">Fri
              </label>
              <label class="checkbox col-sm-2">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_sat"
                  [(ngModel)]="general_settings.single.import_orders_on_sat"
                  name="general_settings.single.import_orders_on_sat"
                  (change)="update_settings()">Sat
              </label>
              <label class="checkbox">
                <input type="checkbox"
                  value="general_settings.single.import_orders_on_sun"
                  [(ngModel)]="general_settings.single.import_orders_on_sun"
                  name="general_settings.single.import_orders_on_sun"
                  (change)="update_settings()">Sun
              </label>
            </div>
          </div>

           <div class="form-group row">
            <label class="control-label col-sm-3">Recurring FTP Order Import Range</label>
            <div class="controls col-sm-5">
              <!-- <rzslider
                rz-slider-model="slider.min"
                rz-slider-high="slider.max"
                rz-slider-options="slider.options">
              </rzslider> -->
              <div style="width: 300px; margin: 50px;">
                
                <ng5-slider [(value)]="value" [(highValue)]="highValue" [options]="options"></ng5-slider>

              </div>
            </div>  
            <div class="controls col-sm-4">
              <span style="margin-top: 25px; float: left;"> Current Time: {{general_settings.single.current_time}}
                <i class="groove-fa fa fa-clock-o" popover-trigger="mouseenter"></i>
                <i mat-raised-button
                matTooltip="The FTP will be checked for new orders every 10 minutes during the range specified here. Limiting the range to only the hours needed saves resources and increases performance"
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                  <i class="fa fa-info-circle"></i>                      
                </i>
                </span> 
              </div>
            </div>
            <div class="row" *ngIf="show_button">
              <div class="col-sm-4 col-sm-offset-3">
                <button class="modal-save-button" ng-click="update_import_time()">Update</button>
              </div>
            </div>
          <!-- </div> -->

          <div class="form-group row">
            <label class="control-label col-sm-3 ng-binding">Log out inactive users after</label>
            <div class="controls col-sm-7 row">
              <div class="col-sm-4" style="padding-left: 0px;">
                <input type="number"
                  class="form-control input-style ng-pristine ng-valid"
                  [(ngModel)]="general_settings.single.idle_timeout"
                  name="general_settings.single.idle_timeout"
                  (blur)="update_settings()">
              </div>  
              
              <span class="col-sm-3" style="padding: 4px;">Minutes</span>
              <div class="info col-sm-1">
                <i mat-raised-button
                matTooltip="Inactive users will be logged out automatically after the number of minutes set here. Leave blank to disable."
                matTooltipClass="example-tooltip-red text-secondary"
                class="example-button">
                  <i class="fa fa-info-circle"></i>                      
                </i>
              </div>
            </div>
          </div>
          
        </fieldset>
      </div>
</div>