<div class="login-form">
  <div class="row">
    <div class="box-outer">
      <div class="box"></div>
      <div class="col-sm-offset-3 col-md-offset-3 col-lg-offset-3 col-sm-6 col-md-6 col-lg-6">
        <img src="/assets/images/logo.png" class="col-lg-12 col-md-12 col-sm-12 col-xs-12" alt="GroovePacker"/>
      </div>
    </div>
  </div>

  <div class="row bottom-well col-sm-offset-3 col-md-offset-3 col-lg-offset-3 col-sm-6 col-md-6 col-lg-6">
    <h2>Login</h2>
    <form role="form">
      <div class="form-group">
        <div class="input string optional user_username">
          <label for="username">Username</label>
          <input type="text" class="form-control" name="username" id="username" required [(ngModel)]="auth.username">
          <label for="password" >Password</label>
          <input type="password" class="form-control" name="password" id="password" required [(ngModel)]="auth.password">
        </div>
      </div>
    <br>

      <div class="col-sm-offset-4 col-md-offset-4 col-lg-offset-4 col-sm-4 col-md-4 col-lg-4">
        <input type="submit" id="login_button" class="btn btn-success col-lg-12 col-md-12 col-sm-12 col-xs-12" value="Login" (click)="login(auth, emailModal)">
      </div>
    </form>
    <button (click)="forgetpassword(loginModal)" class="btn btn-default col-lg-4 col-md-3 col-sm-3 col-xs-12">Reset Password</button>
    
    <ng-template #loginModal let-c="close" let-d="dismiss">
      <div class="modal-header">
        <button type="button" class="close-btn" (click)="cancel()"><i class="fa fa-close"></i></button>
        <div class="modal-title">Enter Your Username To Reset Your Password</div>
      </div>
      <div class="modal-body" style="padding-top: 40px;">
        <div class="tabbable">
          <label class="radio inline">
            Username*
          <input style="width: 50%; margin-top:20px; margin-left: 15px;" type="text" name="username" [(ngModel)]="auth.user_name" required="false" autofocus="" class="form-control input-style">
          </label>
        </div>
      </div>
      <div class="modal-footer" style="padding-top: 15px;">
        <button (click)="forgetpass(auth)" class="modal-save-button">Submit</button>
        <button (click)= "cancel()" class="modal-cancel-button" value="Submit" data-dismiss="modal">Close</button>
      </div>
    </ng-template>

    <ng-template #emailModal>
      <div>
        <div class="modal-header">
          <button type="button" class="close-btn" (click)="cancel()"><i class="glyphicon glyphicon-remove"></i></button>
          <div class="modal-title">Update Email </div>
        </div>
      
        <div class="modal-body" style="padding-top: 40px;">
          <div class="tabbable">
            <label class="radio inline">
              Hi There! Please take a second to add an email address to your user account. This will allow you to reset your password in the future if you should need to.
              <input style="width: 50%; margin-top:20px; margin-left: 15px;" type="text" [(ngModel)]="user_email_address" class="form-control input-style"/>
            </label><br/>
            <label class="radio inline">
              Note: If other (non super admin) users on your account request a password reset the link will be sent to the address you provide. You also have the option of setting separate addresses for each user so they can reset their own password without assistance.
            </label>
          </div>
        </div>
      </div>
      <div class="modal-footer" style="padding-top: 15px;">
        <button (click)="update_user_email_address(user_email_address)" class="modal-save-button" translate>Continue</button>
        <button (click)="cancel()" class="modal-cancel-button" translate>modal.cancel</button>
      </div>
    </ng-template>
  </div>
</div>
